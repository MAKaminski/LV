# LV Project - System Architecture

## ğŸ—ï¸ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LV Project System                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend (React + TypeScript)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Dashboard     â”‚  â”‚   Inventory     â”‚  â”‚    Products     â”‚ â”‚
â”‚  â”‚   Analytics     â”‚  â”‚   Management    â”‚  â”‚   Management    â”‚ â”‚
â”‚  â”‚   Charts        â”‚  â”‚   Forms         â”‚  â”‚   CRUD          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Backend (FastAPI + Python)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   API Routes    â”‚  â”‚   Business      â”‚  â”‚   Data          â”‚ â”‚
â”‚  â”‚   CRUD Ops      â”‚  â”‚   Logic         â”‚  â”‚   Validation    â”‚ â”‚
â”‚  â”‚   Analytics     â”‚  â”‚   Calculations  â”‚  â”‚   & Migration   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Database (PostgreSQL)                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Products      â”‚  â”‚   Inventory     â”‚  â”‚     Sales       â”‚ â”‚
â”‚  â”‚   Categories    â”‚  â”‚   Orders        â”‚  â”‚   Platform      â”‚ â”‚
â”‚  â”‚   Brands        â”‚  â”‚   Users         â”‚  â”‚   Goals         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  External Integrations                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Excel Data    â”‚  â”‚   NIA AI       â”‚  â”‚   Docker        â”‚ â”‚
â”‚  â”‚   Migration     â”‚  â”‚   Integration   â”‚  â”‚   Deployment    â”‚ â”‚
â”‚  â”‚   Analysis      â”‚  â”‚   Context       â”‚  â”‚   Container     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow Architecture

```
Excel File â†’ Analysis â†’ Migration â†’ PostgreSQL â†’ FastAPI â†’ React â†’ Dashboard
     â†“           â†“          â†“           â†“         â†“        â†“        â†“
  LaceLuxx   Structure   Normalized   Queries   API      UI      Analytics
  Inventory   Detection   Schema       & Index   Endpoints Charts  & Reports
```

## ğŸ—„ï¸ Database Architecture

### Core Entities Relationship
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Categories â”‚    â”‚   Products  â”‚    â”‚   Brands    â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ - id        â”‚â—„â”€â”€â”€â”¤ - category_idâ”‚    â”‚ - id        â”‚
â”‚ - name      â”‚    â”‚ - brand_id  â”‚â”€â”€â”€â–ºâ”‚ - name      â”‚
â”‚ - descriptionâ”‚   â”‚ - name      â”‚    â”‚ - descriptionâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - sku       â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ - descriptionâ”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Inventory  â”‚
                   â”‚             â”‚
                   â”‚ - product_idâ”‚
                   â”‚ - quantity  â”‚
                   â”‚ - prices    â”‚
                   â”‚ - status    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚    Sales    â”‚    â”‚   Orders    â”‚
                   â”‚             â”‚    â”‚             â”‚
                   â”‚ - product_idâ”‚    â”‚ - order_id  â”‚
                   â”‚ - quantity  â”‚    â”‚ - buyer_id  â”‚
                   â”‚ - revenue   â”‚    â”‚ - seller_id â”‚
                   â”‚ - profit    â”‚    â”‚ - total     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ API Architecture

### RESTful Endpoints Structure
```
/api/
â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ GET /           # List all products
â”‚   â”œâ”€â”€ POST /          # Create product
â”‚   â””â”€â”€ GET /{id}       # Get specific product
â”œâ”€â”€ inventory/
â”‚   â”œâ”€â”€ GET /           # List inventory
â”‚   â”œâ”€â”€ POST /          # Add inventory item
â”‚   â””â”€â”€ PUT /{id}       # Update inventory
â”œâ”€â”€ sales/
â”‚   â”œâ”€â”€ GET /           # List sales
â”‚   â”œâ”€â”€ POST /          # Record sale
â”‚   â””â”€â”€ GET /analytics  # Sales analytics
â””â”€â”€ analytics/
    â”œâ”€â”€ GET /top-products    # Top products
    â””â”€â”€ GET /profit-analysis # Profit analysis
```

## ğŸ³ Deployment Architecture

### Docker Container Structure
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Compose                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Frontend   â”‚  â”‚   Backend   â”‚  â”‚ PostgreSQL  â”‚        â”‚
â”‚  â”‚  React App  â”‚  â”‚  FastAPI    â”‚  â”‚  Database   â”‚        â”‚
â”‚  â”‚  Port:3000  â”‚  â”‚  Port:8000  â”‚  â”‚  Port:5432  â”‚        â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚
â”‚  â”‚ - TypeScriptâ”‚  â”‚ - Python    â”‚  â”‚ - Schema    â”‚        â”‚
â”‚  â”‚ - Recharts  â”‚  â”‚ - SQLAlchemyâ”‚  â”‚ - Data      â”‚        â”‚
â”‚  â”‚ - Axios     â”‚  â”‚ - Pydantic  â”‚  â”‚ - Indexes   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Security Architecture

### Authentication & Authorization
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   FastAPI       â”‚    â”‚   Database      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ - Form Validationâ”‚   â”‚ - CORS Middlewareâ”‚   â”‚ - Row Level     â”‚
â”‚ - Input Sanitizeâ”‚   â”‚ - JWT Tokens    â”‚   â”‚   Security      â”‚
â”‚ - HTTPS         â”‚   â”‚ - Rate Limiting â”‚   â”‚ - Prepared      â”‚
â”‚                 â”‚    â”‚                 â”‚   â”‚   Statements    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Analytics Architecture

### Data Processing Pipeline
```
Raw Data â†’ ETL â†’ Normalized DB â†’ Analytics Engine â†’ Visualization
   â†“         â†“         â†“              â†“              â†“
Excel    Migration  PostgreSQL    FastAPI        React
Files    Scripts    Schema        Queries       Charts
```

## ğŸ”„ State Management Architecture

### Frontend State Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User      â”‚    â”‚   React     â”‚    â”‚   FastAPI   â”‚
â”‚   Action    â”‚â”€â”€â”€â–ºâ”‚   State     â”‚â”€â”€â”€â–ºâ”‚   Backend   â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ - Form Inputâ”‚    â”‚ - useState  â”‚    â”‚ - Database  â”‚
â”‚ - Button    â”‚    â”‚ - useEffect â”‚    â”‚ - Business  â”‚
â”‚ - Navigationâ”‚    â”‚ - Context   â”‚    â”‚   Logic     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Performance Architecture

### Optimization Strategies
1. **Database**: Indexed queries, connection pooling
2. **Backend**: Async operations, caching
3. **Frontend**: Lazy loading, memoization
4. **Deployment**: Container orchestration, load balancing

## ğŸ”§ Development Architecture

### Feature-Driven Development
```
Feature X â†’ Analysis â†’ Design â†’ Implementation â†’ Testing â†’ Deployment
    â†“         â†“        â†“           â†“            â†“         â†“
  MEGA_PROMPT  ERD    Schema    Code        Tests    Docker
  Specs        Design  Migration Components  Coverage  Compose
```

## ğŸ“ˆ Scalability Architecture

### Horizontal Scaling
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Load      â”‚    â”‚   Multiple  â”‚    â”‚   Database  â”‚
â”‚   Balancer  â”‚â”€â”€â”€â–ºâ”‚   Backend   â”‚â”€â”€â”€â–ºâ”‚   Replicas  â”‚
â”‚             â”‚    â”‚   Instances â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ CI/CD Architecture

### Deployment Pipeline
```
Code â†’ Tests â†’ Build â†’ Docker â†’ Deploy â†’ Monitor
  â†“      â†“      â†“       â†“        â†“        â†“
Git    Jest   Webpack  Images   Docker   Logs
Push   Tests  Bundle   Compose  Compose  Analytics
```

---

**Last Updated**: August 2024  
**Version**: 1.0.0  
**Maintainer**: LV Project Team 